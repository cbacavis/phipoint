<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhiPoint | The Geometry of Song</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="header-tools">
        <button class="theme-switch" onclick="toggleTheme()">ðŸŒ“ Theme</button>
    </div>

    <main class="container">
        <h1 class="brand">PHIPOINT</h1>
        <p class="subtitle">The Geometry of Song.</p>

        <div class="input-wrap">
            <div class="field">
                <label>Song Title</label>
                <input type="text" id="songInput" placeholder="e.g. Starless">
            </div>
            <div class="field">
                <label>Artist</label>
                <input type="text" id="artistInput" placeholder="e.g. King Crimson">
            </div>
            <button id="calc-btn" onclick="getPhi()">CALCULATE</button>
        </div>

        <div id="loader">Î¦</div>
        
        <section id="result-display">
            <span class="label">The Phi Peak</span>
            <div id="timestamp" class="gold"></div>
            <div id="track-meta"></div>
            
            <div class="progress-track">
                <div class="phi-marker"></div>
            </div>

            <div id="player-wrap"></div>
            
            <p class="nav-hint">
                Tip: Manually drag the player to about <span class="gold">5 seconds before</span> <span class="gold" id="guideTime"></span>. 
                <small>If the slider is hidden on mobile, use the button above to open the full player.</small>
            </p>
        </section>

        <section id="recents">
            <h3>Recent Peaks</h3>
            <ul id="history-list"></ul>
        </section>

        <footer class="math-info">
            <h3>The Science of the Peak</h3>
            <p>The <strong>Golden Ratio</strong> (represented by the symbol <strong>Phi or Î¦</strong>) is a unique mathematical proportion found in nature and art. It happens when you divide a line into two parts so that the longer part is roughly <strong>1.6 times</strong> the length of the shorter part.</p>
            
            <p>When applied to a linear timeline, the <strong>"Golden Section"</strong> occurs at the <strong>61.8% mark</strong>. In musicology, this point often aligns with the structural climax or a significant thematic shift.</p>
            <p class="formula">$$T_{peak} = T_{total} \times 0.618$$</p>
            <hr>
            <p class="credits">
                <strong>Application & Styles:</strong> Designed and coded by Chris Bacavis.<br>
                <strong>Inspiration:</strong> <a href="https://www.pbs.org/video/music-from-the-golden-ratio-and-fibonacci-sequence-afdd5k/" target="_blank">PBS: Music from the Golden Ratio</a>.
            </p>
        </footer>
    </main>

    <script src="script.js"></script>
</body>
</html>
